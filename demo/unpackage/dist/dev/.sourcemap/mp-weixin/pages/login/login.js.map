{"version":3,"sources":["webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/main.js","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?708c","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?3b77","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?6627","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?8f9c","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?0af3","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?6422"],"names":["createPage","Page","computed","mounted","uni","setNavigationBarTitle","title","onLoad","data","currentUser","encrypt","first","methods","getPhoneNumber","e","_this","console","log","detail","errMsg","showModal","content","showCancel","then","res","showLoading","userInfo","$store","commit","unionid","OpenId","sessionKey","encryptedData","iv","phoneNumber","phone","hideLoading","avatarUrl","nickName","JSON","stringify","unionId","navigateTo","url","switchTab","catch","phone_login","onGetUserInfo"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=24fdac54&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('24fdac54', component.options)\n    } else {\n      api.reload('24fdac54', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=24fdac54&\", function () {\n      api.rerender('24fdac54', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue\"\nexport default component.exports","export * from \"-!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=24fdac54&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState, mapMutations } from 'vuex';\nimport {getOpenId, getUser, updateUser, decodeUserInfo, loginWechat, getUserInfoWechat} from '@/api/user';\nexport default {\n\tcomputed:{\n\t\t...mapState([\"code\"])\n\t},\n\tmounted(){\n\t\tuni.setNavigationBarTitle({\n\t\t　　title:'健康生活'\n\t\t})\n\t},\n\tonLoad(){\n\t\t//this.login(true);\n\t},\n\tdata:function(){\n\t\treturn {\n\t\t\tcurrentUser:{},\n\t\t\tencrypt:null,\n\t\t\tfirst:false\n\t\t}\n\t},\n\tmethods:{\n\t\t...mapMutations([\"setCode\", \"setCurrentUser\"]),\n\t\tgetPhoneNumber: function(e) {\n\t\t\tlet _this = this;\n\t\t\tconsole.log(e);\n\t\t\tthis.encrypt = e.detail;\n\t\t\tif (e.detail && e.detail.errMsg && e.detail.errMsg != 'getPhoneNumber:ok') {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle:'授权失败',\n\t\t\t\t\tcontent:e.detail.errMsg,\n\t\t\t\t\tshowCancel:false\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tgetUserInfoWechat().then(res=>{\n\t\t\t\t\tuni.showLoading({})\n\t\t\t\t\tthis.currentUser = res.userInfo;\n\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\treturn loginWechat();\n\t\t\t\t}).then(res=>{\n\t\t\t\t\treturn getOpenId(res)\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif(res.data.data.unionid){\n\t\t\t\t\t\tthis.currentUser.OpenId = res.data.data.unionid;\n\t\t\t\t\t\tthis.currentUser.sessionKey = res.data.data.sessionKey;\n\t\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\t\treturn decodeUserInfo(this.encrypt.encryptedData, this.encrypt.iv, this.currentUser.OpenId);\n\t\t\t\t\t} \n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif(res.data.data && res.data.data.phoneNumber){\n\t\t\t\t\t\tthis.currentUser.phone = res.data.data.phoneNumber;\n\t\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\t\treturn getUser(this.currentUser.OpenId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle:'授权失败',\n\t\t\t\t\t\t\tcontent:'获取电话失败',\n\t\t\t\t\t\t\tshowCancel:false\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif(res){\n\t\t\t\t\t\tthis.first = res.data.data.avatarUrl == null \n\t\t\t\t\t\t\t&& res.data.data.nickName == null;\n\t\t\t\t\t\tthis.currentUser = {\n\t\t\t\t\t\t\t...res.data.data,\n\t\t\t\t\t\t\t...this.currentUser\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log(JSON.stringify(this.currentUser))\n\t\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\t\tif(this.first){\n\t\t\t\t\t\t\tupdateUser({\n\t\t\t\t\t\t\t\tavatarUrl:this.currentUser.avatarUrl,\n\t\t\t\t\t\t\t\tnickName:this.currentUser.nickName,\n\t\t\t\t\t\t\t\tphone:this.currentUser.phone,\n\t\t\t\t\t\t\t\tunionId:this.currentUser.OpenId\n\t\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\t\turl:'../address/addAddress'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\turl:'../index/index'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}).catch(res=>{\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// \t\t\t\tconsole.log(JSON.stringify(e.encryptedData));\n\t\t\t// \t\t\t\tconsole.log(JSON.stringify(e.iv));\n\t\t},\n\t\tphone_login(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'./phoneLogin'\n\t\t\t})\n\t\t\t\n\t\t},\n\t\tonGetUserInfo(res){\n\t\t\tif(res.detail && res.detail.userInfo){\n\t\t\t\tthis.currentUser = res.detail.userInfo;\n\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\tuni.showLoading({\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\tloginWechat().then(res=>{\n\t\t\t\t\treturn getOpenId(res);\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif(res.data.data.unionid){\n\t\t\t\t\t\tthis.currentUser.OpenId = res.data.data.unionid;\n\t\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\t\treturn getUser(this.currentUser.OpenId);\n\t\t\t\t\t}\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif(res){\n\t\t\t\t\t\tthis.first = res.data.data.avatarUrl == null \n\t\t\t\t\t\t\t&& res.data.data.nickName == null;\n\t\t\t\t\t\tthis.currentUser = {\n\t\t\t\t\t\t\t...res.data.data,\n\t\t\t\t\t\t\t...this.currentUser\n\t\t\t\t\t\t} \n\t\t\t\t\t\tconsole.log(JSON.stringify(this.currentUser))\n\t\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\t\tif(this.first){\n\t\t\t\t\t\t\tupdateUser({\n\t\t\t\t\t\t\t\tavatarUrl:this.currentUser.avatarUrl,\n\t\t\t\t\t\t\t\tnickName:this.currentUser.nickName,\n\t\t\t\t\t\t\t\tphone:null,\n\t\t\t\t\t\t\t\tunionId:this.currentUser.OpenId\n\t\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\t\turl:'../address/addAddress'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\turl:'../index/index'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}).catch(res=>{\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n","import mod from \"-!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}