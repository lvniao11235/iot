{"version":3,"sources":["webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/main.js","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?708c","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?3b77","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?6627","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?8f9c","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?0af3","webpack:///C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue?6422"],"names":["createPage","Page","computed","mounted","uni","setNavigationBarTitle","title","onLoad","data","showDialog","currentUser","encrypt","first","methods","addAddress","address","$store","commit","OnWechatAuthorized","getPhoneNumber","e","_this","console","log","detail","errMsg","showModal","content","showCancel","then","res","showLoading","userInfo","unionid","OpenId","sessionKey","encryptedData","iv","phoneNumber","phone","hideLoading","avatarUrl","nickName","JSON","stringify","unionId","length","navigateTo","url","switchTab","catch","phone_login","onGetUserInfo"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;AACa;;;AAGjE;AACsI;AACtI,gBAAgB,mJAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAA6vB,CAAgB,wwBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkBjxB;AACA;AACA,4D;AACe;AACdC,UAAQ;AACJ,sBAAS,CAAC,MAAD,CAAT,CADI,CADM;;AAIdC,SAJc,qBAIL;AACRC,OAAG,CAACC,qBAAJ,CAA0B;AACxBC,WAAK,EAAC,MADkB,EAA1B;;AAGA,GARa;AASdC,QATc,oBASN;AACP;AACA,GAXa;AAYdC,MAAI,EAAC,gBAAU;AACd,WAAO;AACNC,gBAAU,EAAC,KADL;AAENC,iBAAW,EAAC,EAFN;AAGNC,aAAO,EAAC,IAHF;AAINC,WAAK,EAAC,KAJA,EAAP;;AAMA,GAnBa;AAoBdC,SAAO;AACH,0BAAa,CAAC,SAAD,EAAY,gBAAZ,EAA8B,YAA9B,CAAb,CADG;AAENC,cAFM,sBAEKC,OAFL,EAEa;AAClB,WAAKC,MAAL,CAAYC,MAAZ,CAAmB,YAAnB,EAAiCF,OAAjC;AACA,KAJK;AAKNG,sBALM,gCAKc;AACnB,WAAKT,UAAL,GAAkB,KAAlB;AACA,KAPK;AAQNU,kBAAc,EAAE,wBAASC,CAAT,EAAY;AAC3B,UAAIC,KAAK,GAAG,IAAZ;AACAC,aAAO,CAACC,GAAR,CAAYH,CAAZ;AACA,WAAKT,OAAL,GAAeS,CAAC,CAACI,MAAjB;AACA,UAAIJ,CAAC,CAACI,MAAF,IAAYJ,CAAC,CAACI,MAAF,CAASC,MAArB,IAA+BL,CAAC,CAACI,MAAF,CAASC,MAAT,IAAmB,mBAAtD,EAA2E;AAC1ErB,WAAG,CAACsB,SAAJ,CAAc;AACbpB,eAAK,EAAC,MADO;AAEbqB,iBAAO,EAACP,CAAC,CAACI,MAAF,CAASC,MAFJ;AAGbG,oBAAU,EAAC,KAHE,EAAd;;AAKA,OAND,MAMO;AACN,uCAAoBC,IAApB,CAAyB,UAAAC,GAAG,EAAE;AAC7B1B,aAAG,CAAC2B,WAAJ,CAAgB,EAAhB;AACA,gBAAI,CAACrB,WAAL,GAAmBoB,GAAG,CAACE,QAAvB;AACA,gBAAI,CAAChB,MAAL,CAAYC,MAAZ,CAAmB,gBAAnB,EAAqC,MAAI,CAACP,WAA1C;AACA,iBAAO,wBAAP;AACA,SALD,EAKGmB,IALH,CAKQ,UAAAC,GAAG,EAAE;AACZ,iBAAO,qBAAUA,GAAV,CAAP;AACA,SAPD,EAOGD,IAPH,CAOQ,UAAAC,GAAG,EAAE;AACZ,cAAGA,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAcyB,OAAjB,EAAyB;AACxB,kBAAI,CAACvB,WAAL,CAAiBwB,MAAjB,GAA0BJ,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAcyB,OAAxC;AACA,kBAAI,CAACvB,WAAL,CAAiByB,UAAjB,GAA8BL,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAc2B,UAA5C;AACA,kBAAI,CAACnB,MAAL,CAAYC,MAAZ,CAAmB,gBAAnB,EAAqC,MAAI,CAACP,WAA1C;AACA,mBAAO,0BAAe,MAAI,CAACC,OAAL,CAAayB,aAA5B,EAA2C,MAAI,CAACzB,OAAL,CAAa0B,EAAxD,EAA4D,MAAI,CAAC3B,WAAL,CAAiBwB,MAA7E,CAAP;AACA;AACD,SAdD,EAcGL,IAdH,CAcQ,UAAAC,GAAG,EAAE;AACZ,cAAGA,GAAG,CAACtB,IAAJ,CAASA,IAAT,IAAiBsB,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAc8B,WAAlC,EAA8C;AAC7C,kBAAI,CAAC5B,WAAL,CAAiB6B,KAAjB,GAAyBT,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAc8B,WAAvC;AACA,kBAAI,CAACtB,MAAL,CAAYC,MAAZ,CAAmB,gBAAnB,EAAqC,MAAI,CAACP,WAA1C;AACA,mBAAO,mBAAQ,MAAI,CAACA,WAAL,CAAiBwB,MAAzB,CAAP;AACA,WAJD,MAIO;AACN9B,eAAG,CAACoC,WAAJ;AACApC,eAAG,CAACsB,SAAJ,CAAc;AACbpB,mBAAK,EAAC,MADO;AAEbqB,qBAAO,EAAC,QAFK;AAGbC,wBAAU,EAAC,KAHE,EAAd;;AAKA;AACD,SA3BD,EA2BGC,IA3BH,CA2BQ,UAAAC,GAAG,EAAE;AACZ,cAAGA,GAAH,EAAO;AACN,kBAAI,CAAClB,KAAL,GAAakB,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAciC,SAAd,IAA2B,IAA3B;AACTX,eAAG,CAACtB,IAAJ,CAASA,IAAT,CAAckC,QAAd,IAA0B,IAD9B;AAEA,kBAAI,CAAChC,WAAL;AACIoB,eAAG,CAACtB,IAAJ,CAASA,IADb;AAEI,kBAAI,CAACE,WAFT;;AAIAY,mBAAO,CAACC,GAAR,CAAYoB,IAAI,CAACC,SAAL,CAAe,MAAI,CAAClC,WAApB,CAAZ;AACA,kBAAI,CAACM,MAAL,CAAYC,MAAZ,CAAmB,gBAAnB,EAAqC,MAAI,CAACP,WAA1C;AACA,gBAAG,MAAI,CAACE,KAAR,EAAc;AACb,oCAAW;AACV6B,yBAAS,EAAC,MAAI,CAAC/B,WAAL,CAAiB+B,SADjB;AAEVC,wBAAQ,EAAC,MAAI,CAAChC,WAAL,CAAiBgC,QAFhB;AAGVH,qBAAK,EAAC,MAAI,CAAC7B,WAAL,CAAiB6B,KAHb;AAIVM,uBAAO,EAAC,MAAI,CAACnC,WAAL,CAAiBwB,MAJf,EAAX;AAKGL,kBALH,CAKQ,UAAAC,GAAG,EAAE;AACZ,oBAAGA,GAAH,EAAO;AACN,yBAAO,0BAAY,MAAI,CAACpB,WAAL,CAAiBwB,MAA7B,CAAP;AACA;AACD,eATD,EASGL,IATH,CASQ,UAAAC,GAAG,EAAE;AACZ1B,mBAAG,CAACoC,WAAJ;AACA,oBAAGV,GAAG,CAACtB,IAAJ,CAASA,IAAT,IAAiBsB,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAcsC,MAAd,IAAwB,CAA5C,EAA8C;AAC7C1C,qBAAG,CAAC2C,UAAJ,CAAe;AACdC,uBAAG,EAAC,uBADU,EAAf;;AAGA,iBAJD,MAIO;AACN,wBAAI,CAAClC,UAAL,CAAgBgB,GAAG,CAACtB,IAAJ,CAASA,IAAzB;AACAJ,qBAAG,CAAC6C,SAAJ,CAAc;AACbD,uBAAG,EAAC,gBADS,EAAd;;AAGA;AACD,eArBD;AAsBA,aAvBD,MAuBO;AACN,oCAAW;AACVP,yBAAS,EAAC,MAAI,CAAC/B,WAAL,CAAiB+B,SADjB;AAEVC,wBAAQ,EAAC,MAAI,CAAChC,WAAL,CAAiBgC,QAFhB;AAGVH,qBAAK,EAAC,MAAI,CAAC7B,WAAL,CAAiB6B,KAHb;AAIVM,uBAAO,EAAC,MAAI,CAACnC,WAAL,CAAiBwB,MAJf,EAAX;AAKGL,kBALH,CAKQ,UAAAC,GAAG,EAAE;AACZ,oBAAGA,GAAH,EAAO;AACN,yBAAO,0BAAY,MAAI,CAACpB,WAAL,CAAiBwB,MAA7B,CAAP;AACA;AACD,eATD,EASGL,IATH,CASQ,UAAAC,GAAG,EAAE;AACZ1B,mBAAG,CAACoC,WAAJ;AACA,oBAAGV,GAAG,CAACtB,IAAJ,CAASA,IAAT,IAAiBsB,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAcsC,MAAd,IAAwB,CAA5C,EAA8C;AAC7C1C,qBAAG,CAAC2C,UAAJ,CAAe;AACdC,uBAAG,EAAC,uBADU,EAAf;;AAGA,iBAJD,MAIO;AACN,wBAAI,CAAClC,UAAL,CAAgBgB,GAAG,CAACtB,IAAJ,CAASA,IAAzB;AACAJ,qBAAG,CAAC6C,SAAJ,CAAc;AACbD,uBAAG,EAAC,gBADS,EAAd;;AAGA;AACD,eArBD;AAsBA;AACD;AACD,SArFD,EAqFGE,KArFH,CAqFS,UAAApB,GAAG,EAAE;AACb1B,aAAG,CAACoC,WAAJ;AACA,cAAGV,GAAG,CAACL,MAAJ,IAAc,qCAAjB,EAAuD;AACtD,kBAAI,CAAChB,UAAL,GAAkB,IAAlB;AACA;AACD,SA1FD;AA2FA;;AAED;AACA;AACA,KAlHK;AAmHN0C,eAnHM,yBAmHO;AACZ/C,SAAG,CAAC2C,UAAJ,CAAe;AACdC,WAAG,EAAC,cADU,EAAf;;;AAIA,KAxHK;AAyHNI,iBAzHM,yBAyHQtB,GAzHR,EAyHY;AACjB,UAAGA,GAAG,CAACN,MAAJ,IAAcM,GAAG,CAACN,MAAJ,CAAWQ,QAA5B,EAAqC;AACpC,aAAKtB,WAAL,GAAmBoB,GAAG,CAACN,MAAJ,CAAWQ,QAA9B;AACA,aAAKhB,MAAL,CAAYC,MAAZ,CAAmB,gBAAnB,EAAqC,KAAKP,WAA1C;AACAN,WAAG,CAAC2B,WAAJ,CAAgB,EAAhB;;;AAGA,iCAAcF,IAAd,CAAmB,UAAAC,GAAG,EAAE;AACvB,iBAAO,qBAAUA,GAAV,CAAP;AACA,SAFD,EAEGD,IAFH,CAEQ,UAAAC,GAAG,EAAE;AACZ,cAAGA,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAcyB,OAAjB,EAAyB;AACxB,kBAAI,CAACvB,WAAL,CAAiBwB,MAAjB,GAA0BJ,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAcyB,OAAxC;AACA,kBAAI,CAACjB,MAAL,CAAYC,MAAZ,CAAmB,gBAAnB,EAAqC,MAAI,CAACP,WAA1C;AACA,mBAAO,mBAAQ,MAAI,CAACA,WAAL,CAAiBwB,MAAzB,CAAP;AACA;AACD,SARD,EAQGL,IARH,CAQQ,UAAAC,GAAG,EAAE;AACZ,cAAGA,GAAH,EAAO;AACN,kBAAI,CAAClB,KAAL,GAAakB,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAciC,SAAd,IAA2B,IAA3B;AACTX,eAAG,CAACtB,IAAJ,CAASA,IAAT,CAAckC,QAAd,IAA0B,IAD9B;AAEA,kBAAI,CAAChC,WAAL;AACIoB,eAAG,CAACtB,IAAJ,CAASA,IADb;AAEI,kBAAI,CAACE,WAFT;;AAIAY,mBAAO,CAACC,GAAR,CAAYoB,IAAI,CAACC,SAAL,CAAe,MAAI,CAAClC,WAApB,CAAZ;AACA,kBAAI,CAACM,MAAL,CAAYC,MAAZ,CAAmB,gBAAnB,EAAqC,MAAI,CAACP,WAA1C;;AAEA,gBAAG,MAAI,CAACE,KAAR,EAAc;AACb,oCAAW;AACV6B,yBAAS,EAAC,MAAI,CAAC/B,WAAL,CAAiB+B,SADjB;AAEVC,wBAAQ,EAAC,MAAI,CAAChC,WAAL,CAAiBgC,QAFhB;AAGVH,qBAAK,EAAC,IAHI;AAIVM,uBAAO,EAAC,MAAI,CAACnC,WAAL,CAAiBwB,MAJf,EAAX;AAKGL,kBALH,CAKQ,UAAAC,GAAG,EAAE;AACZ,oBAAGA,GAAH,EAAO;AACN,yBAAO,0BAAY,MAAI,CAACpB,WAAL,CAAiBwB,MAA7B,CAAP;AACA;AACD,eATD,EASGL,IATH,CASQ,UAAAC,GAAG,EAAE;AACZ1B,mBAAG,CAACoC,WAAJ;AACA,oBAAGV,GAAG,CAACtB,IAAJ,CAASA,IAAT,IAAiBsB,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAcsC,MAAd,IAAwB,CAA5C,EAA8C;AAC7C1C,qBAAG,CAAC2C,UAAJ,CAAe;AACdC,uBAAG,EAAC,uBADU,EAAf;;AAGA,iBAJD,MAIO;AACN,wBAAI,CAAClC,UAAL,CAAgBgB,GAAG,CAACtB,IAAJ,CAASA,IAAzB;AACAJ,qBAAG,CAAC6C,SAAJ,CAAc;AACbD,uBAAG,EAAC,gBADS,EAAd;;AAGA;AACD,eArBD;AAsBA,aAvBD,MAuBO;AACN,qBAAO,0BAAY,MAAI,CAACtC,WAAL,CAAiBwB,MAA7B,CAAP;AACA9B,iBAAG,CAACoC,WAAJ;AACApC,iBAAG,CAAC6C,SAAJ,CAAc;AACbD,mBAAG,EAAC,gBADS,EAAd;;AAGA;AACD;AACD,SAlDD,EAkDGnB,IAlDH,CAkDQ,UAAAC,GAAG,EAAE;AACZ1B,aAAG,CAACoC,WAAJ;AACA,cAAGV,GAAG,CAACtB,IAAJ,CAASA,IAAT,IAAiBsB,GAAG,CAACtB,IAAJ,CAASA,IAAT,CAAcsC,MAAd,IAAwB,CAA5C,EAA8C;AAC7C1C,eAAG,CAAC2C,UAAJ,CAAe;AACdC,iBAAG,EAAC,uBADU,EAAf;;AAGA,WAJD,MAIO;AACN,kBAAI,CAAClC,UAAL,CAAgBgB,GAAG,CAACtB,IAAJ,CAASA,IAAzB;AACAJ,eAAG,CAAC6C,SAAJ,CAAc;AACbD,iBAAG,EAAC,gBADS,EAAd;;AAGA;AACD,SA9DD,EA8DGE,KA9DH,CA8DS,UAAApB,GAAG,EAAE;AACb1B,aAAG,CAACoC,WAAJ;AACA,SAhED;AAiEA;AACD,KAlMK,GApBO,E;;;;;;;;;;;;;ACrBf;AAAA;AAAA;AAAA;AAAs/B,CAAgB,2+BAAG,EAAC,C;;;;;;;;;;;ACA1gC,uC","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=24fdac54&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('24fdac54', component.options)\n    } else {\n      api.reload('24fdac54', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=24fdac54&\", function () {\n      api.rerender('24fdac54', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/lvniao/Desktop/projects/iot/demo/pages/login/login.vue\"\nexport default component.exports","export * from \"-!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=24fdac54&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState, mapMutations } from 'vuex';\nimport {getOpenId, getUser, updateUser, decodeUserInfo, loginWechat, getUserInfoWechat} from '@/api/user';\nimport {listFamilys} from '@/api/address';\nexport default {\n\tcomputed:{\n\t\t...mapState([\"code\"])\n\t},\n\tmounted(){\n\t\tuni.setNavigationBarTitle({\n\t\t　　title:'健康生活'\n\t\t})\n\t},\n\tonLoad(){\n\t\t//this.login(true);\n\t},\n\tdata:function(){\n\t\treturn {\n\t\t\tshowDialog:false,\n\t\t\tcurrentUser:{},\n\t\t\tencrypt:null,\n\t\t\tfirst:false\n\t\t}\n\t},\n\tmethods:{\n\t\t...mapMutations([\"setCode\", \"setCurrentUser\", \"setAddress\"]),\n\t\taddAddress(address){\n\t\t\tthis.$store.commit(\"setAddress\", address)\n\t\t},\n\t\tOnWechatAuthorized(){\n\t\t\tthis.showDialog = false;\n\t\t},\n\t\tgetPhoneNumber: function(e) {\n\t\t\tlet _this = this;\n\t\t\tconsole.log(e);\n\t\t\tthis.encrypt = e.detail;\n\t\t\tif (e.detail && e.detail.errMsg && e.detail.errMsg != 'getPhoneNumber:ok') {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle:'授权失败',\n\t\t\t\t\tcontent:e.detail.errMsg,\n\t\t\t\t\tshowCancel:false\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tgetUserInfoWechat().then(res=>{\n\t\t\t\t\tuni.showLoading({})\n\t\t\t\t\tthis.currentUser = res.userInfo;\n\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\treturn loginWechat();\n\t\t\t\t}).then(res=>{\n\t\t\t\t\treturn getOpenId(res)\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif(res.data.data.unionid){\n\t\t\t\t\t\tthis.currentUser.OpenId = res.data.data.unionid;\n\t\t\t\t\t\tthis.currentUser.sessionKey = res.data.data.sessionKey;\n\t\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\t\treturn decodeUserInfo(this.encrypt.encryptedData, this.encrypt.iv, this.currentUser.OpenId);\n\t\t\t\t\t} \n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif(res.data.data && res.data.data.phoneNumber){\n\t\t\t\t\t\tthis.currentUser.phone = res.data.data.phoneNumber;\n\t\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\t\treturn getUser(this.currentUser.OpenId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle:'授权失败',\n\t\t\t\t\t\t\tcontent:'获取电话失败',\n\t\t\t\t\t\t\tshowCancel:false\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif(res){\n\t\t\t\t\t\tthis.first = res.data.data.avatarUrl == null \n\t\t\t\t\t\t\t&& res.data.data.nickName == null;\n\t\t\t\t\t\tthis.currentUser = {\n\t\t\t\t\t\t\t...res.data.data,\n\t\t\t\t\t\t\t...this.currentUser\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log(JSON.stringify(this.currentUser))\n\t\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\t\tif(this.first){\n\t\t\t\t\t\t\tupdateUser({\n\t\t\t\t\t\t\t\tavatarUrl:this.currentUser.avatarUrl,\n\t\t\t\t\t\t\t\tnickName:this.currentUser.nickName,\n\t\t\t\t\t\t\t\tphone:this.currentUser.phone,\n\t\t\t\t\t\t\t\tunionId:this.currentUser.OpenId\n\t\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\t\t\treturn listFamilys(this.currentUser.OpenId);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\tif(res.data.data && res.data.data.length == 0){\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\t\turl:'../address/addAddress'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.addAddress(res.data.data)\n\t\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\t\turl:'../index/index'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tupdateUser({\n\t\t\t\t\t\t\t\tavatarUrl:this.currentUser.avatarUrl,\n\t\t\t\t\t\t\t\tnickName:this.currentUser.nickName,\n\t\t\t\t\t\t\t\tphone:this.currentUser.phone,\n\t\t\t\t\t\t\t\tunionId:this.currentUser.OpenId\n\t\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\t\t\treturn listFamilys(this.currentUser.OpenId);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\tif(res.data.data && res.data.data.length == 0){\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\t\turl:'../address/addAddress'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.addAddress(res.data.data)\n\t\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\t\turl:'../index/index'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}).catch(res=>{\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tif(res.errMsg == \"getUserInfo:fail scope unauthorized\"){\n\t\t\t\t\t\tthis.showDialog = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// \t\t\t\tconsole.log(JSON.stringify(e.encryptedData));\n\t\t\t// \t\t\t\tconsole.log(JSON.stringify(e.iv));\n\t\t},\n\t\tphone_login(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'./phoneLogin'\n\t\t\t})\n\t\t\t\n\t\t},\n\t\tonGetUserInfo(res){\n\t\t\tif(res.detail && res.detail.userInfo){\n\t\t\t\tthis.currentUser = res.detail.userInfo;\n\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\tuni.showLoading({\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\tloginWechat().then(res=>{\n\t\t\t\t\treturn getOpenId(res);\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif(res.data.data.unionid){\n\t\t\t\t\t\tthis.currentUser.OpenId = res.data.data.unionid;\n\t\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\t\treturn getUser(this.currentUser.OpenId);\n\t\t\t\t\t}\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tif(res){\n\t\t\t\t\t\tthis.first = res.data.data.avatarUrl == null \n\t\t\t\t\t\t\t&& res.data.data.nickName == null;\n\t\t\t\t\t\tthis.currentUser = {\n\t\t\t\t\t\t\t...res.data.data,\n\t\t\t\t\t\t\t...this.currentUser\n\t\t\t\t\t\t} \n\t\t\t\t\t\tconsole.log(JSON.stringify(this.currentUser))\n\t\t\t\t\t\tthis.$store.commit(\"setCurrentUser\", this.currentUser)\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.first){\n\t\t\t\t\t\t\tupdateUser({\n\t\t\t\t\t\t\t\tavatarUrl:this.currentUser.avatarUrl,\n\t\t\t\t\t\t\t\tnickName:this.currentUser.nickName,\n\t\t\t\t\t\t\t\tphone:null,\n\t\t\t\t\t\t\t\tunionId:this.currentUser.OpenId\n\t\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\t\tif(res){\n\t\t\t\t\t\t\t\t\treturn listFamilys(this.currentUser.OpenId);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\tif(res.data.data && res.data.data.length == 0){\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\t\turl:'../address/addAddress'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.addAddress(res.data.data)\n\t\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\t\turl:'../index/index'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn listFamilys(this.currentUser.OpenId);\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\turl:'../index/index'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tif(res.data.data && res.data.data.length == 0){\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl:'../address/addAddress'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.addAddress(res.data.data)\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl:'../index/index'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).catch(res=>{\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n","import mod from \"-!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\Programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}